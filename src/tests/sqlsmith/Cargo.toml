[package]
name = "risingwave_sqlsmith"
version = { workspace = true }
edition = { workspace = true }
homepage = { workspace = true }
keywords = { workspace = true }
license = { workspace = true }
repository = { workspace = true }

[features]
enable_sqlsmith_unit_test = []

[dependencies]
anyhow = { workspace = true }
chrono = { workspace = true }
clap = { workspace = true }
itertools = { workspace = true }
rand = { workspace = true, features = ["small_rng"] }
rand_chacha = { workspace = true }
regex = { workspace = true }
risingwave_common = { workspace = true }
risingwave_expr = { workspace = true }
risingwave_expr_impl = { workspace = true }
risingwave_frontend = { workspace = true }
risingwave_sqlparser = { workspace = true }
similar = { workspace = true }
thiserror-ext = { workspace = true }
tokio = { version = "0.2", package = "madsim-tokio" }
tokio-postgres = { workspace = true }
tracing = { workspace = true }
tracing-subscriber = { workspace = true }

[dev-dependencies]
expect-test = { workspace = true }
libtest-mimic = { workspace = true }

[target.'cfg(not(madsim))'.dependencies]
workspace-hack = { path = "../../workspace-hack" }

[[bin]]
name = "sqlsmith"
path = "src/bin/main.rs"
test = false

[[bin]]
name = "sqlsmith-reducer"
path = "src/bin/reducer.rs"
test = false

[[test]]
name = "test_runner"
harness = false

[lints]
workspace = true
